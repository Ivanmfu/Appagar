(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[711],{7384:function(e,t,s){Promise.resolve().then(s.bind(s,6165))},6165:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var a=s(7437),r=s(683),i=s(6294),n=s(5118),l=s(7138),d=s(2265);function o(){var e;let{user:t}=(0,r.aC)(),s=(0,n.a)({queryKey:["groups",null==t?void 0:t.id],enabled:!!(null==t?void 0:t.id),queryFn:async()=>(null==t?void 0:t.id)?(0,i.a_)(t.id):[]}),o=(0,d.useMemo)(()=>{var e;return[...null!==(e=s.data)&&void 0!==e?e:[]].sort((e,t)=>{let s=e.lastExpenseAt?new Date(e.lastExpenseAt).getTime():0;return(t.lastExpenseAt?new Date(t.lastExpenseAt).getTime():0)-s})},[s.data]);return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("section",{className:"".concat("rounded-3xl border border-white/10 bg-white/10 p-6 backdrop-blur-xl shadow-xl shadow-black/20"," space-y-4"),children:[(0,a.jsxs)("header",{className:"space-y-2",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Actividad reciente"}),(0,a.jsx)("p",{className:"text-sm text-slate-200/80",children:"Consulta el \xfaltimo movimiento registrado en cada uno de tus grupos."})]}),s.isLoading&&(0,a.jsx)("p",{className:"text-sm text-slate-300",children:"Cargando actividad..."}),s.error&&(0,a.jsx)("p",{className:"text-sm text-red-300",children:null!==(e=s.error.message)&&void 0!==e?e:"No se pudo recuperar la actividad reciente"}),o.length>0?(0,a.jsx)("ul",{className:"space-y-3",children:o.map(e=>(0,a.jsx)("li",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-white",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-slate-300",children:["\xdaltimo movimiento ",function(e){if(!e)return"—";try{let t=new Date(e);return"".concat(t.toLocaleDateString()," \xb7 ").concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))}catch(e){return"—"}}(e.lastExpenseAt)]})]}),(0,a.jsx)(l.default,{className:"text-xs font-semibold text-indigo-200 underline-offset-2 hover:text-white hover:underline",href:"/grupos/detalle?id=".concat(e.id),children:"Abrir grupo"})]})},e.id))}):!s.isLoading&&(0,a.jsx)("div",{className:"rounded-2xl border border-dashed border-white/20 p-6 text-center text-sm text-slate-200/80",children:"Todav\xeda no hay movimientos. Registra gastos para verlos aqu\xed."})]})})}}},function(e){e.O(0,[543,973,138,118,194,971,23,744],function(){return e(e.s=7384)}),_N_E=e.O()}]);